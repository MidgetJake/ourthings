<script id="init" type="text/html">
	<!-- init is always run automatically on startup -->
	@templates.render({"targetId":"#content","template":"#basic"},{"queueRun":"Instant"});
	 -elements.addClass({"targetId":"#content","class":"highlight"});
	 -openlayers.addMap({});
	 -openlayers.addLayer({"name":"osm","type":"osm"});
	 -openlayers.addLayer({"name":"data","type":"vector"});
</script>

<script id="basic" type="text/html">
	Very basic template
	<div id="myButton" class="button" @api.get({"url":"https://api.openbrewerydb.org/breweries"});>
		-templates.render({"targetId":"#results","template":"#displayResults"});
		Example of API call to get breweries
	</div>
	<div id="results"></div>
</script>

<script id="displayResults" type="text/html">
	{{#for window.memory['api.get'].value}}
		{{window.memory['api.get'].value[#loop0].name}}
		@openlayers.addFeature({"layer":"data","geometry":"{{window.memory['api.get'].value[#loop0].latitude}},{{window.memory['api.get'].value[#loop0].longitude}}"},{"queueRun":"Instant"});
	{{/for}}
</script>

